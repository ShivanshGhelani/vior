<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Visual Intelligence Object Recognition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href= "/static/css/style.css">
</head>

<body>
    <div class="animated-background">
        <div class="gradient-blob"></div>
        <div class="gradient-blob"></div>
        <div class="gradient-blob"></div>
        <div class="grid-overlay"></div>
        <div class="particles-container" id="particlesContainer"></div>
    </div> <!-- Mobile buttons container -->
    <div class="mobile-buttons-container">
        <div class="left-buttons">
            <a href="/projects" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </a>
            <a href="https://github.com/ShivanshGhelani/vior.git" target="_blank" class="github-btn">
                <i class="fab fa-github"></i>
                <span class="button-text">GitHub</span>
            </a>
        </div>
        <div class="right-buttons"> <button class="side-menu-trigger" id="sideMenuTrigger">
                <i class="fas fa-list-ul"></i>
                <span class="button-text">Results</span>
            </button>
        </div>
    </div>

    <div class="container">
        <a href="/projects" class="back-button d-none-mobile">
            <i class="fas fa-arrow-left"></i>
        </a>

        <a href="https://github.com/ShivanshGhelani/vior.git" target="_blank" class="github-btn d-none-mobile">
            <i class="fab fa-github"></i>
            <span class="button-text">GitHub</span>
        </a>

        <header class="header">
            <h1>Visual Intelligence</h1>
            <p>Upload an image or video to identify objects and analyze the scene</p>
        </header>

        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="tab-group">
                    <button class="tab active" data-tab="image">
                        <i class="fas fa-image"></i>
                        Image
                    </button>
                    <button class="tab" data-tab="video">
                        <i class="fas fa-video"></i>
                        Video
                    </button>
                </div>

                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                    <h3>Drop your file here</h3>
                    <p id="formatHint">Supports JPG, PNG, WebP</p>
                </div>

                <div class="preview-container" id="previewContainer" style="display: none;">
                    <div id="preview"></div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="processBtn" disabled>
                        <i class="fas fa-magic"></i>
                        Process
                    </button>
                    <button class="btn btn-secondary" id="clearBtn" disabled>
                        <i class="fas fa-undo"></i>
                        Clear
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection">
                <div class="results-header">
                    <h2>
                        <i class="fas fa-robot"></i>
                        Analysis Results
                    </h2>
                    <button class="btn btn-secondary" id="copyResultsBtn">
                        <i class="fas fa-copy"></i>
                        <span class="copy-text">Copy</span>
                    </button>
                </div>

                <div class="results-content">
                    <div class="scenario">
                        <div id="scenarioContent"></div>

                        <div class="audio-player">
                            <button class="play-btn" id="playBtn">
                                <i class="fas fa-play"></i>
                            </button>
                            <div class="visualizer" id="audioVisualizer"></div>
                            <audio id="audioPlayer" style="display: none;"></audio>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-icon">
                <div class="orbit">
                    <div class="dot"></div>
                </div>
                <div class="orbit">
                    <div class="dot"></div>
                </div>
                <div class="orbit">
                    <div class="dot"></div>
                </div>
                <div class="brain-container">
                    <i class="fas fa-brain brain"></i>
                </div>
            </div>
            <div class="loader-text">Analyzing image with AI...</div>
            <div class="loader-progress">
                <div class="progress-bar"></div>
            </div>
            <div class="loader-tips" id="loaderTip">Detecting objects and understanding scene context</div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <!-- Side Menu for Detected Objects -->
    <div id="sideMenu" class="side-menu">
        <div class="side-menu-header">
            <span class="side-menu-title">
                <i class="fas fa-search"></i>
                Detected Objects
            </span>
            <button class="side-menu-close" id="closeSideMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="side-menu-content" id="sideMenuContent">
            <!-- Contents will be populated dynamically -->
        </div>
    </div>

    <!-- Disclaimer Box -->
    <div class="disclaimer" id="disclaimer">
        <button class="disclaimer-close" id="disclaimerClose">Ã—</button>
        <p><strong>Disclaimer:</strong> This is an experimental project. The AI model may not be fully accurate and can
            make mistakes in object detection and scene analysis.</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/structure.js"></script>
</body>

</html>